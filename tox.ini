[tox]
envlist = py39, py39-coverage, py312

[testenv]
commands =
    python -m pip install --upgrade setuptools pip
    python -m pip install --no-cache-dir --no-build-isolation -r{toxinidir}/test_requirements.txt
    pytest unittests
    flake8
    isort --profile black -c .
    black --check --diff .
    yamllint -d relaxed --no-warnings .

[testenv:py39-coverage]
basepython =
    python3.9
deps =
    coverage
commands =
    coverage run -m pytest -vv --strict
    coverage report -m

[flake8]
max-line-length = 120
ignore = E402, E741, W503, F522, E203, E731, E999, F824, E201, E202, E225, E226
